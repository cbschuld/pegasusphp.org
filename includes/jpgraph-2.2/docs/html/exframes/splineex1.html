<code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">include&nbsp;</font><font color="#DD0000">"../jpgraph.php"</font><font color="#007700">;<br />include&nbsp;</font><font color="#DD0000">"../jpgraph_line.php"</font><font color="#007700">;<br />include&nbsp;</font><font color="#DD0000">"../jpgraph_scatter.php"</font><font color="#007700">;<br />include&nbsp;</font><font color="#DD0000">"../jpgraph_regstat.php"</font><font color="#007700">;<br /><br /></font><font color="#FF8000">//&nbsp;Original&nbsp;data&nbsp;points<br /></font><font color="#0000BB">$xdata&nbsp;</font><font color="#007700">=&nbsp;array(</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">,</font><font color="#0000BB">5</font><font color="#007700">,</font><font color="#0000BB">7</font><font color="#007700">,</font><font color="#0000BB">9</font><font color="#007700">,</font><font color="#0000BB">12</font><font color="#007700">,</font><font color="#0000BB">15</font><font color="#007700">,</font><font color="#0000BB">17.1</font><font color="#007700">);<br /></font><font color="#0000BB">$ydata&nbsp;</font><font color="#007700">=&nbsp;array(</font><font color="#0000BB">5</font><font color="#007700">,</font><font color="#0000BB">1</font><font color="#007700">,</font><font color="#0000BB">9</font><font color="#007700">,</font><font color="#0000BB">6</font><font color="#007700">,</font><font color="#0000BB">4</font><font color="#007700">,</font><font color="#0000BB">3</font><font color="#007700">,</font><font color="#0000BB">19</font><font color="#007700">,</font><font color="#0000BB">12</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;Get&nbsp;the&nbsp;interpolated&nbsp;values&nbsp;by&nbsp;creating<br />//&nbsp;a&nbsp;new&nbsp;Spline&nbsp;object.<br /></font><font color="#0000BB">$spline&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">Spline</font><font color="#007700">(</font><font color="#0000BB">$xdata</font><font color="#007700">,</font><font color="#0000BB">$ydata</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;For&nbsp;the&nbsp;new&nbsp;data&nbsp;set&nbsp;we&nbsp;want&nbsp;40&nbsp;points&nbsp;to<br />//&nbsp;get&nbsp;a&nbsp;smooth&nbsp;curve.<br /></font><font color="#007700">list(</font><font color="#0000BB">$newx</font><font color="#007700">,</font><font color="#0000BB">$newy</font><font color="#007700">)&nbsp;=&nbsp;</font><font color="#0000BB">$spline</font><font color="#007700">-&gt;</font><font color="#0000BB">Get</font><font color="#007700">(</font><font color="#0000BB">50</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;Create&nbsp;the&nbsp;graph<br /></font><font color="#0000BB">$g&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">Graph</font><font color="#007700">(</font><font color="#0000BB">300</font><font color="#007700">,</font><font color="#0000BB">200</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetMargin</font><font color="#007700">(</font><font color="#0000BB">30</font><font color="#007700">,</font><font color="#0000BB">20</font><font color="#007700">,</font><font color="#0000BB">40</font><font color="#007700">,</font><font color="#0000BB">30</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">Set</font><font color="#007700">(</font><font color="#DD0000">"Natural&nbsp;cubic&nbsp;splines"</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">title</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFont</font><font color="#007700">(</font><font color="#0000BB">FF_ARIAL</font><font color="#007700">,</font><font color="#0000BB">FS_NORMAL</font><font color="#007700">,</font><font color="#0000BB">12</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">subtitle</font><font color="#007700">-&gt;</font><font color="#0000BB">Set</font><font color="#007700">(</font><font color="#DD0000">'(Control&nbsp;points&nbsp;shown&nbsp;in&nbsp;red)'</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">subtitle</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'darkred'</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetMarginColor</font><font color="#007700">(</font><font color="#DD0000">'lightblue'</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//$g-&gt;img-&gt;SetAntiAliasing();<br /><br />//&nbsp;We&nbsp;need&nbsp;a&nbsp;linlin&nbsp;scale&nbsp;since&nbsp;we&nbsp;provide&nbsp;both<br />//&nbsp;x&nbsp;and&nbsp;y&nbsp;coordinates&nbsp;for&nbsp;the&nbsp;data&nbsp;points.<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">SetScale</font><font color="#007700">(</font><font color="#DD0000">'linlin'</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;We&nbsp;want&nbsp;1&nbsp;decimal&nbsp;for&nbsp;the&nbsp;X-label<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">xaxis</font><font color="#007700">-&gt;</font><font color="#0000BB">SetLabelFormat</font><font color="#007700">(</font><font color="#DD0000">'%1.1f'</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;We&nbsp;use&nbsp;a&nbsp;scatterplot&nbsp;to&nbsp;illustrate&nbsp;the&nbsp;original<br />//&nbsp;contro&nbsp;points.<br /></font><font color="#0000BB">$splot&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">ScatterPlot</font><font color="#007700">(</font><font color="#0000BB">$ydata</font><font color="#007700">,</font><font color="#0000BB">$xdata</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;<br /></font><font color="#0000BB">$splot</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">-&gt;</font><font color="#0000BB">SetFillColor</font><font color="#007700">(</font><font color="#DD0000">'red@0.3'</font><font color="#007700">);<br /></font><font color="#0000BB">$splot</font><font color="#007700">-&gt;</font><font color="#0000BB">mark</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'red@0.5'</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;And&nbsp;a&nbsp;line&nbsp;plot&nbsp;to&nbsp;stroke&nbsp;the&nbsp;smooth&nbsp;curve&nbsp;we&nbsp;got<br />//&nbsp;from&nbsp;the&nbsp;original&nbsp;control&nbsp;points<br /></font><font color="#0000BB">$lplot&nbsp;</font><font color="#007700">=&nbsp;new&nbsp;</font><font color="#0000BB">LinePlot</font><font color="#007700">(</font><font color="#0000BB">$newy</font><font color="#007700">,</font><font color="#0000BB">$newx</font><font color="#007700">);<br /></font><font color="#0000BB">$lplot</font><font color="#007700">-&gt;</font><font color="#0000BB">SetColor</font><font color="#007700">(</font><font color="#DD0000">'navy'</font><font color="#007700">);<br /><br /></font><font color="#FF8000">//&nbsp;Add&nbsp;the&nbsp;plots&nbsp;to&nbsp;the&nbsp;graph&nbsp;and&nbsp;stroke<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">Add</font><font color="#007700">(</font><font color="#0000BB">$lplot</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">Add</font><font color="#007700">(</font><font color="#0000BB">$splot</font><font color="#007700">);<br /></font><font color="#0000BB">$g</font><font color="#007700">-&gt;</font><font color="#0000BB">Stroke</font><font color="#007700">();<br /><br /></font><font color="#0000BB">?&gt;<br /></font><br /></font>
</code>